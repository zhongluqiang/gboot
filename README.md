# gboot
国嵌ARM裸机课程学习过程中参考uboot实现的一款简易bootloader，适用平台OK6410。
学习笔记：http://www.zhongluqiang.com/archives/category/embeded/u-boot

实现dm9000网卡进行ARP地址解析和tftp下载内核的重点注意事项：

1. 关闭接收多播包和广播包可以极大提高传输速率和系统稳定性。
操作方法包括两步，首先是按照手册要求设置接收控制寄存器RCR（05H）的
bit[3]为0，表示pass掉所有的多播包。但只设置这一步dm9000还可以接收广
播包（譬如ARP请求包），**需要再把广播地址也全部设为0**，才可以彻底关掉
多播和广播包的接收。设置广播地址使用寄存器16H~1DH，全部设置为0即可。

2. tftp下载注意事项：按照内核的启动要求，需要将内核下载到内存的0x50008000这个地址上去，因为这是内核要求的入口地址。
但是，之前一直不明这点，导致把gboot的链接起始地址也设置成这个值，所以gboot的启动代码也被装载到这个地址来了。
这也是为什么之前下载会在某个时间死机的原因，因为内核直接把gboot的代码给覆盖掉了。要解决这点，可以参考uboot的提示，
将gboot的链接地址指定到0x57e00000，这样，装载的内核代码就不会覆盖gboot代码了，相关提示信息在board/samsung/smdk6410/config.mk的注释信息中。


3. 网络传输过程中关掉所有打印信息可以极大地提升传输效率

